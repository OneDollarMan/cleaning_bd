CREATE SCHEMA IF NOT EXISTS `cleaning` DEFAULT CHARACTER SET utf8 ;
USE `cleaning` ;
CREATE TABLE IF NOT EXISTS `cleaning`.`role` (`id` INT NOT NULL, `name` VARCHAR(45) NOT NULL, PRIMARY KEY (`id`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `cleaning`.`user` (`id` INT NOT NULL, `username` VARCHAR(45) NOT NULL, `password` VARCHAR(45) NOT NULL, `fio` VARCHAR(45) NOT NULL, `role_id` INT NOT NULL, PRIMARY KEY (`id`), INDEX `fk_user_role_idx` (`role_id` ASC) VISIBLE, CONSTRAINT `fk_user_role` FOREIGN KEY (`role_id`) REFERENCES `cleaning`.`role` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `cleaning`.`status` (`id` INT NOT NULL, `name` VARCHAR(45) NOT NULL, PRIMARY KEY (`id`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `cleaning`.`client` (`id` INT NOT NULL, `fio` VARCHAR(45) NOT NULL, `number` VARCHAR(45) NOT NULL, `address` VARCHAR(45) NOT NULL, `hidden` VARCHAR(45) NOT NULL, PRIMARY KEY (`id`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `cleaning`.`cleaning_type` (`id` INT NOT NULL, `name` VARCHAR(45) NOT NULL, `price` VARCHAR(45) NOT NULL, `hidden` VARCHAR(45) NOT NULL, PRIMARY KEY (`id`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `cleaning`.`clothing_type` (`id` INT NOT NULL, `name` VARCHAR(45) NOT NULL, `hidden` VARCHAR(45) NOT NULL, PRIMARY KEY (`id`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `cleaning`.`order` (`id` INT NOT NULL, `date` DATETIME NOT NULL, `name` VARCHAR(45) NOT NULL, `status_id` INT NOT NULL, `client_id` INT NOT NULL, `cleaning_type_id` INT NOT NULL, `clothing_type_id` INT NOT NULL, PRIMARY KEY (`id`), INDEX `fk_order_status1_idx` (`status_id` ASC) VISIBLE, INDEX `fk_order_client1_idx` (`client_id` ASC) VISIBLE, INDEX `fk_order_cleaning_type1_idx` (`cleaning_type_id` ASC) VISIBLE, INDEX `fk_order_clothing_type1_idx` (`clothing_type_id` ASC) VISIBLE, CONSTRAINT `fk_order_status1` FOREIGN KEY (`status_id`) REFERENCES `cleaning`.`status` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT `fk_order_client1` FOREIGN KEY (`client_id`) REFERENCES `cleaning`.`client` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT `fk_order_cleaning_type1` FOREIGN KEY (`cleaning_type_id`) REFERENCES `cleaning`.`cleaning_type` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT `fk_order_clothing_type1` FOREIGN KEY (`clothing_type_id`) REFERENCES `cleaning`.`clothing_type` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB;